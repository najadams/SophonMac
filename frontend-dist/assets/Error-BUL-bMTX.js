import{r as Ce,bw as Ke,v as Ze,aO as k,U as _e,j as r,ar as K,bx as me,R as Je,bk as et,E as Ne,ag as tt}from"./index-DKVd45z4.js";import{S as nt}from"./Snackbar-DQl3JBex.js";var De={exports:{}};(function(b,m){(function(p,v){b.exports=v(Ce,Ke)})(typeof self<"u"?self:Ze,function(p,v){return function(){var _={328:function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.PrintContextConsumer=n.PrintContext=void 0;var i=e(496),c=Object.prototype.hasOwnProperty.call(i,"createContext");n.PrintContext=c?i.createContext({}):null,n.PrintContextConsumer=n.PrintContext?n.PrintContext.Consumer:function(){return null}},428:function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.ReactToPrint=void 0;var i=e(316),c=e(496),h=e(190),f=e(328),y=e(940),g=function(R){function A(){var d=R.apply(this,i.__spreadArray([],i.__read(arguments),!1))||this;return d.startPrint=function(x){var P=d.props,I=P.onAfterPrint,$=P.onPrintError,O=P.print,L=P.documentTitle;setTimeout(function(){var X,F;if(x.contentWindow)if(x.contentWindow.focus(),O)O(x).then(function(){return I==null?void 0:I()}).then(function(){return d.handleRemoveIframe()}).catch(function(G){$?$("print",G):d.logMessages(["An error was thrown by the specified `print` function"])});else{if(x.contentWindow.print){var J=(F=(X=x.contentDocument)===null||X===void 0?void 0:X.title)!==null&&F!==void 0?F:"",z=x.ownerDocument.title;L&&(x.ownerDocument.title=L,x.contentDocument&&(x.contentDocument.title=L)),x.contentWindow.print(),L&&(x.ownerDocument.title=z,x.contentDocument&&(x.contentDocument.title=J))}else d.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);I==null||I(),d.handleRemoveIframe()}else d.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},d.triggerPrint=function(x){var P=d.props,I=P.onBeforePrint,$=P.onPrintError;if(I){var O=I();O&&typeof O.then=="function"?O.then(function(){d.startPrint(x)}).catch(function(L){$&&$("onBeforePrint",L)}):d.startPrint(x)}else d.startPrint(x)},d.handlePrint=function(x){var P=d.props,I=P.bodyClass,$=P.content,O=P.copyStyles,L=P.fonts,X=P.pageStyle,F=P.nonce,J=typeof x=="function"?x():null;if(J&&typeof $=="function"&&d.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),J||typeof $!="function"||(J=$()),J!==void 0)if(J!==null){var z=document.createElement("iframe");z.width="".concat(document.documentElement.clientWidth,"px"),z.height="".concat(document.documentElement.clientHeight,"px"),z.style.position="absolute",z.style.top="-".concat(document.documentElement.clientHeight+100,"px"),z.style.left="-".concat(document.documentElement.clientWidth+100,"px"),z.id="printWindow",z.srcdoc="<!DOCTYPE html>";var G=(0,h.findDOMNode)(J);if(G){var H=G.cloneNode(!0),le=H instanceof Text,ce=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ue=le?[]:H.querySelectorAll("img"),fe=le?[]:H.querySelectorAll("video"),be=L?L.length:0;d.numResourcesToLoad=ce.length+ue.length+fe.length+be,d.resourcesLoaded=[],d.resourcesErrored=[];var Q=function(ne,ie){d.resourcesLoaded.includes(ne)?d.logMessages(["Tried to mark a resource that has already been handled",ne],"debug"):(ie?(d.logMessages(i.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],i.__read(ie),!1)),d.resourcesErrored.push(ne)):d.resourcesLoaded.push(ne),d.resourcesLoaded.length+d.resourcesErrored.length===d.numResourcesToLoad&&d.triggerPrint(z))};z.onload=function(){var ne,ie,pe,ve;z.onload=null;var q=z.contentDocument||((ie=z.contentWindow)===null||ie===void 0?void 0:ie.document);if(q){q.body.appendChild(H),L&&(!((pe=z.contentDocument)===null||pe===void 0)&&pe.fonts&&(!((ve=z.contentWindow)===null||ve===void 0)&&ve.FontFace)?L.forEach(function(te){var B=new FontFace(te.family,te.source,{weight:te.weight,style:te.style});z.contentDocument.fonts.add(B),B.loaded.then(function(){Q(B)}).catch(function(U){Q(B,["Failed loading the font:",B,"Load error:",U])})}):(L.forEach(function(te){return Q(te)}),d.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var Ee=typeof X=="function"?X():X;if(typeof Ee!="string")d.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof Ee,'". Styles from `pageStyle` will not be applied.')]);else{var we=q.createElement("style");F&&(we.setAttribute("nonce",F),q.head.setAttribute("nonce",F)),we.appendChild(q.createTextNode(Ee)),q.head.appendChild(we)}if(I&&(ne=q.body.classList).add.apply(ne,i.__spreadArray([],i.__read(I.split(" ")),!1)),!le){for(var o=le?[]:G.querySelectorAll("canvas"),s=q.querySelectorAll("canvas"),a=0;a<o.length;++a){var l=o[a],u=s[a].getContext("2d");u&&u.drawImage(l,0,0)}var C=function(te){var B=ue[te],U=B.getAttribute("src");if(U){var oe=new Image;oe.onload=function(){return Q(B)},oe.onerror=function(ye,Pe,Ae,ae,Z){return Q(B,["Error loading <img>",B,"Error",Z])},oe.src=U}else Q(B,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',B])};for(a=0;a<ue.length;a++)C(a);var j=function(te){var B=fe[te];B.preload="auto";var U=B.getAttribute("poster");if(U){var oe=new Image;oe.onload=function(){return Q(B)},oe.onerror=function(ye,Pe,Ae,ae,Z){return Q(B,["Error loading video poster",U,"for video",B,"Error:",Z])},oe.src=U}else B.readyState>=2?Q(B):(B.onloadeddata=function(){return Q(B)},B.onerror=function(ye,Pe,Ae,ae,Z){return Q(B,["Error loading video",B,"Error",Z])},B.onstalled=function(){return Q(B,["Loading video stalled, skipping",B])})};for(a=0;a<fe.length;a++)j(a);var N="input",Y=G.querySelectorAll(N),V=q.querySelectorAll(N);for(a=0;a<Y.length;a++)V[a].value=Y[a].value;var E="input[type=checkbox],input[type=radio]",D=G.querySelectorAll(E),ee=q.querySelectorAll(E);for(a=0;a<D.length;a++)ee[a].checked=D[a].checked;var re="select",se=G.querySelectorAll(re),he=q.querySelectorAll(re);for(a=0;a<se.length;a++)he[a].value=se[a].value}if(O)for(var de=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),ge=function(te,B){var U=de[te];if(U.tagName.toLowerCase()==="style"){var oe=q.createElement(U.tagName),ye=U.sheet;if(ye){var Pe="";try{for(var Ae=ye.cssRules.length,ae=0;ae<Ae;++ae)typeof ye.cssRules[ae].cssText=="string"&&(Pe+="".concat(ye.cssRules[ae].cssText,`\r
`))}catch{d.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",U],"warning")}oe.setAttribute("id","react-to-print-".concat(te)),F&&oe.setAttribute("nonce",F),oe.appendChild(q.createTextNode(Pe)),q.head.appendChild(oe)}}else if(U.getAttribute("href"))if(U.hasAttribute("disabled"))d.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",U],"warning"),Q(U);else{for(var Z=q.createElement(U.tagName),Ye=(ae=0,U.attributes.length);ae<Ye;++ae){var Me=U.attributes[ae];Me&&Z.setAttribute(Me.nodeName,Me.nodeValue||"")}Z.onload=function(){return Q(Z)},Z.onerror=function(Ve,yt,xt,bt,Xe){return Q(Z,["Failed to load",Z,"Error:",Xe])},F&&Z.setAttribute("nonce",F),q.head.appendChild(Z)}else d.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",U],"warning"),Q(U)},qe=(a=0,de.length);a<qe;++a)ge(a)}d.numResourcesToLoad!==0&&O||d.triggerPrint(z)},d.handleRemoveIframe(!0),document.body.appendChild(z)}else d.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else d.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else d.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},d.handleRemoveIframe=function(x){var P=d.props.removeAfterPrint;if(x||P){var I=document.getElementById("printWindow");I&&document.body.removeChild(I)}},d.logMessages=function(x,P){P===void 0&&(P="error"),d.props.suppressErrors||(P==="error"?console.error(x):P==="warning"?console.warn(x):P==="debug"&&console.debug(x))},d}return i.__extends(A,R),A.prototype.handleClick=function(d,x){var P=this,I=this.props,$=I.onBeforeGetContent,O=I.onPrintError;if($){var L=$();L&&typeof L.then=="function"?L.then(function(){return P.handlePrint(x)}).catch(function(X){O&&O("onBeforeGetContent",X)}):this.handlePrint(x)}else this.handlePrint(x)},A.prototype.render=function(){var d=this.props,x=d.children,P=d.trigger;if(P)return c.cloneElement(P(),{onClick:this.handleClick.bind(this)});if(!f.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var I={handlePrint:this.handleClick.bind(this)};return c.createElement(f.PrintContext.Provider,{value:I},x)},A.defaultProps=y.defaultProps,A}(c.Component);n.ReactToPrint=g},940:function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultProps=void 0,n.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.useReactToPrint=void 0;var i=e(316),c=e(496),h=e(428),f=e(940),y=e(860),g=Object.prototype.hasOwnProperty.call(c,"useMemo")&&Object.prototype.hasOwnProperty.call(c,"useCallback");n.useReactToPrint=function(R){if(!g)return R.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var A=c.useMemo(function(){return new h.ReactToPrint(i.__assign(i.__assign({},f.defaultProps),R))},[R]);return c.useCallback(function(d,x){return(0,y.wrapCallbackWithArgs)(A,A.handleClick,x)(d)},[A])}},860:function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapCallbackWithArgs=void 0;var i=e(316);n.wrapCallbackWithArgs=function(c,h){for(var f=[],y=2;y<arguments.length;y++)f[y-2]=arguments[y];return function(){for(var g=[],R=0;R<arguments.length;R++)g[R]=arguments[R];return h.apply(c,i.__spreadArray(i.__spreadArray([],i.__read(g),!1),i.__read(f),!1))}}},496:function(t){t.exports=p},190:function(t){t.exports=v},316:function(t,n,e){e.r(n),e.d(n,{__addDisposableResource:function(){return q},__assign:function(){return h},__asyncDelegator:function(){return ce},__asyncGenerator:function(){return le},__asyncValues:function(){return ue},__await:function(){return H},__awaiter:function(){return I},__classPrivateFieldGet:function(){return ie},__classPrivateFieldIn:function(){return ve},__classPrivateFieldSet:function(){return pe},__createBinding:function(){return O},__decorate:function(){return y},__disposeResources:function(){return we},__esDecorate:function(){return R},__exportStar:function(){return L},__extends:function(){return c},__generator:function(){return $},__importDefault:function(){return ne},__importStar:function(){return Q},__makeTemplateObject:function(){return fe},__metadata:function(){return P},__param:function(){return g},__propKey:function(){return d},__read:function(){return F},__rest:function(){return f},__runInitializers:function(){return A},__setFunctionName:function(){return x},__spread:function(){return J},__spreadArray:function(){return G},__spreadArrays:function(){return z},__values:function(){return X}});var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])},i(o,s)};function c(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=o}i(o,s),o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}var h=function(){return h=Object.assign||function(o){for(var s,a=1,l=arguments.length;a<l;a++)for(var u in s=arguments[a])Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u]);return o},h.apply(this,arguments)};function f(o,s){var a={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&s.indexOf(l)<0&&(a[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(l=Object.getOwnPropertySymbols(o);u<l.length;u++)s.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(a[l[u]]=o[l[u]])}return a}function y(o,s,a,l){var u,C=arguments.length,j=C<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,a):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(o,s,a,l);else for(var N=o.length-1;N>=0;N--)(u=o[N])&&(j=(C<3?u(j):C>3?u(s,a,j):u(s,a))||j);return C>3&&j&&Object.defineProperty(s,a,j),j}function g(o,s){return function(a,l){s(a,l,o)}}function R(o,s,a,l,u,C){function j(ge){if(ge!==void 0&&typeof ge!="function")throw new TypeError("Function expected");return ge}for(var N,Y=l.kind,V=Y==="getter"?"get":Y==="setter"?"set":"value",E=!s&&o?l.static?o:o.prototype:null,D=s||(E?Object.getOwnPropertyDescriptor(E,l.name):{}),ee=!1,re=a.length-1;re>=0;re--){var se={};for(var he in l)se[he]=he==="access"?{}:l[he];for(var he in l.access)se.access[he]=l.access[he];se.addInitializer=function(ge){if(ee)throw new TypeError("Cannot add initializers after decoration has completed");C.push(j(ge||null))};var de=(0,a[re])(Y==="accessor"?{get:D.get,set:D.set}:D[V],se);if(Y==="accessor"){if(de===void 0)continue;if(de===null||typeof de!="object")throw new TypeError("Object expected");(N=j(de.get))&&(D.get=N),(N=j(de.set))&&(D.set=N),(N=j(de.init))&&u.unshift(N)}else(N=j(de))&&(Y==="field"?u.unshift(N):D[V]=N)}E&&Object.defineProperty(E,l.name,D),ee=!0}function A(o,s,a){for(var l=arguments.length>2,u=0;u<s.length;u++)a=l?s[u].call(o,a):s[u].call(o);return l?a:void 0}function d(o){return typeof o=="symbol"?o:"".concat(o)}function x(o,s,a){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:a?"".concat(a," ",s):s})}function P(o,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,s)}function I(o,s,a,l){return new(a||(a=Promise))(function(u,C){function j(V){try{Y(l.next(V))}catch(E){C(E)}}function N(V){try{Y(l.throw(V))}catch(E){C(E)}}function Y(V){var E;V.done?u(V.value):(E=V.value,E instanceof a?E:new a(function(D){D(E)})).then(j,N)}Y((l=l.apply(o,s||[])).next())})}function $(o,s){var a,l,u,C,j={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(Y){return function(V){return function(E){if(a)throw new TypeError("Generator is already executing.");for(;C&&(C=0,E[0]&&(j=0)),j;)try{if(a=1,l&&(u=2&E[0]?l.return:E[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,E[1])).done)return u;switch(l=0,u&&(E=[2&E[0],u.value]),E[0]){case 0:case 1:u=E;break;case 4:return j.label++,{value:E[1],done:!1};case 5:j.label++,l=E[1],E=[0];continue;case 7:E=j.ops.pop(),j.trys.pop();continue;default:if(!((u=(u=j.trys).length>0&&u[u.length-1])||E[0]!==6&&E[0]!==2)){j=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){j.label=E[1];break}if(E[0]===6&&j.label<u[1]){j.label=u[1],u=E;break}if(u&&j.label<u[2]){j.label=u[2],j.ops.push(E);break}u[2]&&j.ops.pop(),j.trys.pop();continue}E=s.call(o,j)}catch(D){E=[6,D],l=0}finally{a=u=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([Y,V])}}}var O=Object.create?function(o,s,a,l){l===void 0&&(l=a);var u=Object.getOwnPropertyDescriptor(s,a);u&&!("get"in u?!s.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,u)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]};function L(o,s){for(var a in o)a==="default"||Object.prototype.hasOwnProperty.call(s,a)||O(s,o,a)}function X(o){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&o[s],l=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(o,s){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l,u,C=a.call(o),j=[];try{for(;(s===void 0||s-- >0)&&!(l=C.next()).done;)j.push(l.value)}catch(N){u={error:N}}finally{try{l&&!l.done&&(a=C.return)&&a.call(C)}finally{if(u)throw u.error}}return j}function J(){for(var o=[],s=0;s<arguments.length;s++)o=o.concat(F(arguments[s]));return o}function z(){for(var o=0,s=0,a=arguments.length;s<a;s++)o+=arguments[s].length;var l=Array(o),u=0;for(s=0;s<a;s++)for(var C=arguments[s],j=0,N=C.length;j<N;j++,u++)l[u]=C[j];return l}function G(o,s,a){if(a||arguments.length===2)for(var l,u=0,C=s.length;u<C;u++)!l&&u in s||(l||(l=Array.prototype.slice.call(s,0,u)),l[u]=s[u]);return o.concat(l||Array.prototype.slice.call(s))}function H(o){return this instanceof H?(this.v=o,this):new H(o)}function le(o,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,u=a.apply(o,s||[]),C=[];return l={},j("next"),j("throw"),j("return"),l[Symbol.asyncIterator]=function(){return this},l;function j(D){u[D]&&(l[D]=function(ee){return new Promise(function(re,se){C.push([D,ee,re,se])>1||N(D,ee)})})}function N(D,ee){try{(re=u[D](ee)).value instanceof H?Promise.resolve(re.value.v).then(Y,V):E(C[0][2],re)}catch(se){E(C[0][3],se)}var re}function Y(D){N("next",D)}function V(D){N("throw",D)}function E(D,ee){D(ee),C.shift(),C.length&&N(C[0][0],C[0][1])}}function ce(o){var s,a;return s={},l("next"),l("throw",function(u){throw u}),l("return"),s[Symbol.iterator]=function(){return this},s;function l(u,C){s[u]=o[u]?function(j){return(a=!a)?{value:H(o[u](j)),done:!1}:C?C(j):j}:C}}function ue(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,a=o[Symbol.asyncIterator];return a?a.call(o):(o=X(o),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(u){s[u]=o[u]&&function(C){return new Promise(function(j,N){(function(Y,V,E,D){Promise.resolve(D).then(function(ee){Y({value:ee,done:E})},V)})(j,N,(C=o[u](C)).done,C.value)})}}}function fe(o,s){return Object.defineProperty?Object.defineProperty(o,"raw",{value:s}):o.raw=s,o}var be=Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s};function Q(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var a in o)a!=="default"&&Object.prototype.hasOwnProperty.call(o,a)&&O(s,o,a);return be(s,o),s}function ne(o){return o&&o.__esModule?o:{default:o}}function ie(o,s,a,l){if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?o!==s||!l:!s.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?l:a==="a"?l.call(o):l?l.value:s.get(o)}function pe(o,s,a,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?o!==s||!u:!s.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(o,a):u?u.value=a:s.set(o,a),a}function ve(o,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?s===o:o.has(s)}function q(o,s,a){if(s!=null){if(typeof s!="object"&&typeof s!="function")throw new TypeError("Object expected.");var l;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=s[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=s[Symbol.dispose]}if(typeof l!="function")throw new TypeError("Object not disposable.");o.stack.push({value:s,dispose:l,async:a})}else a&&o.stack.push({async:!0});return s}var Ee=typeof SuppressedError=="function"?SuppressedError:function(o,s,a){var l=new Error(a);return l.name="SuppressedError",l.error=o,l.suppressed=s,l};function we(o){function s(a){o.error=o.hasError?new Ee(a,o.error,"An error was suppressed during disposal."):a,o.hasError=!0}return function a(){for(;o.stack.length;){var l=o.stack.pop();try{var u=l.dispose&&l.dispose.call(l.value);if(l.async)return Promise.resolve(u).then(a,function(C){return s(C),a()})}catch(C){s(C)}}if(o.hasError)throw o.error}()}n.default={__extends:c,__assign:h,__rest:f,__decorate:y,__param:g,__metadata:P,__awaiter:I,__generator:$,__createBinding:O,__exportStar:L,__values:X,__read:F,__spread:J,__spreadArrays:z,__spreadArray:G,__await:H,__asyncGenerator:le,__asyncDelegator:ce,__asyncValues:ue,__makeTemplateObject:fe,__importStar:Q,__importDefault:ne,__classPrivateFieldGet:ie,__classPrivateFieldSet:pe,__classPrivateFieldIn:ve,__addDisposableResource:q,__disposeResources:we}}},w={};function S(t){var n=w[t];if(n!==void 0)return n.exports;var e=w[t]={exports:{}};return _[t](e,e.exports,S),e.exports}S.d=function(t,n){for(var e in n)S.o(n,e)&&!S.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},S.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},S.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var T={};return function(){var t=T;Object.defineProperty(t,"__esModule",{value:!0}),t.useReactToPrint=t.ReactToPrint=t.PrintContextConsumer=void 0;var n=S(328);Object.defineProperty(t,"PrintContextConsumer",{enumerable:!0,get:function(){return n.PrintContextConsumer}});var e=S(428);Object.defineProperty(t,"ReactToPrint",{enumerable:!0,get:function(){return e.ReactToPrint}});var i=S(892);Object.defineProperty(t,"useReactToPrint",{enumerable:!0,get:function(){return i.useReactToPrint}});var c=S(428);t.default=c.ReactToPrint}(),T}()})})(De);var rt=De.exports;const ot=k.forwardRef(({data:b},m)=>{const{customerName:p,products:v,amountPaid:_,total:w,balance:S,workerName:T,date:t,discount:n}=b,e=_e(y=>y.companyState.data),i=Number(_)||0,c=Number(w)||0,h=Number(S)||0,f=Number(n)||0;return r.jsxs("div",{ref:m,style:{fontFamily:"Arial, sans-serif",margin:0,padding:"20px",maxWidth:"80mm",margin:"0 auto",backgroundColor:"#ffffff"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginBottom:"20px",borderBottom:"2px solid #000",paddingBottom:"15px"},children:[e.logo&&r.jsx("img",{src:e.logo,alt:"Company Logo",style:{width:"100px",marginBottom:"10px"}}),r.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 10px 0",color:"#000"},children:K(e.companyName)}),e.contact&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["Tel: ",e.contact]}),e.momo&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["Mobile Money: ",e.momo]}),e.location&&r.jsx("p",{style:{margin:"5px 0",fontSize:"14px"},children:e.location}),e.receiptHeader&&r.jsx("p",{style:{margin:"10px 0",fontSize:"14px",fontStyle:"italic"},children:e.receiptHeader})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",fontSize:"14px"},children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Receipt No:"})," ",t&&!isNaN(new Date(t).getTime())?me(new Date(t),"yyyyMMddHHmm"):"Invalid"]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Date:"})," ",t&&!isNaN(new Date(t).getTime())?me(new Date(t),"dd/MM/yyyy"):"Invalid Date"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",fontSize:"14px"},children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Customer:"})," ",K(p)]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Cashier:"})," ",K(T)]})]})]}),r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"14px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[r.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"2px solid #000",fontWeight:"bold"},children:"Qty"}),r.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"2px solid #000",fontWeight:"bold"},children:"Product"}),r.jsx("th",{style:{padding:"8px",textAlign:"right",borderBottom:"2px solid #000",fontWeight:"bold"},children:"Price"}),r.jsx("th",{style:{padding:"8px",textAlign:"right",borderBottom:"2px solid #000",fontWeight:"bold"},children:"Total"})]})}),r.jsx("tbody",{children:v.map((y,g)=>{const R=y.originalQuantity||y.quantity,A=y.salesUnit&&y.salesUnit!=="none"?y.salesUnit:"",d=A?`${R} ${A}`:R,x=A&&A!=="none"?`${K(y.name)} (${A})`:K(y.name);return r.jsxs("tr",{children:[r.jsx("td",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:d}),r.jsx("td",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:x}),r.jsxs("td",{style:{padding:"8px",textAlign:"right",borderBottom:"1px solid #ddd"},children:["₵",y.price?y.price.toFixed(2):y.salesPrice.toFixed(2)]}),r.jsxs("td",{style:{padding:"8px",textAlign:"right",borderBottom:"1px solid #ddd"},children:["₵",(y.price?y.price*R:y.salesPrice*R).toFixed(2)]})]},g)})})]}),r.jsxs("div",{style:{marginTop:"20px",borderTop:"2px solid #000",paddingTop:"15px",fontSize:"14px"},children:[f!==0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:r.jsx("strong",{children:"Discount:"})}),r.jsxs("span",{children:["₵",f.toFixed(2)]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"16px",fontWeight:"bold"},children:[r.jsx("span",{children:"Total Amount:"}),r.jsxs("span",{children:["₵",c.toFixed(2)]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:r.jsx("strong",{children:"Amount Paid:"})}),r.jsxs("span",{children:["₵",i.toFixed(2)]})]}),h!==0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{children:r.jsx("strong",{children:"Balance:"})}),r.jsxs("span",{children:["₵",h.toFixed(2)]})]})]}),r.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#666",borderTop:"2px solid #000",paddingTop:"15px"},children:e.receiptFooter?r.jsx("p",{style:{margin:"5px 0"},children:e.receiptFooter}):r.jsxs(r.Fragment,{children:[r.jsx("p",{style:{margin:"5px 0"},children:"Thank you for your business!"}),r.jsx("p",{style:{margin:"5px 0"},children:"Goods sold are not returnable"}),r.jsx("p",{style:{margin:"5px 0"},children:"Please keep this receipt for warranty purposes"})]})})]})});var it=Object.defineProperty,Se=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Ie=(b,m,p)=>m in b?it(b,m,{enumerable:!0,configurable:!0,writable:!0,value:p}):b[m]=p,Re=(b,m)=>{for(var p in m||(m={}))Be.call(m,p)&&Ie(b,p,m[p]);if(Se)for(var p of Se(m))Fe.call(m,p)&&Ie(b,p,m[p]);return b},Te=(b,m)=>{var p={};for(var v in b)Be.call(b,v)&&m.indexOf(v)<0&&(p[v]=b[v]);if(b!=null&&Se)for(var v of Se(b))m.indexOf(v)<0&&Fe.call(b,v)&&(p[v]=b[v]);return p};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var xe;(b=>{const m=class M{constructor(t,n,e,i){if(this.version=t,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],t<M.MIN_VERSION||t>M.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let c=[];for(let f=0;f<this.size;f++)c.push(!1);for(let f=0;f<this.size;f++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(e);if(this.drawCodewords(h),i==-1){let f=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const g=this.getPenaltyScore();g<f&&(i=y,f=g),this.applyMask(y)}}_(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(t,n){const e=b.QrSegment.makeSegments(t);return M.encodeSegments(e,n)}static encodeBinary(t,n){const e=b.QrSegment.makeBytes(t);return M.encodeSegments([e],n)}static encodeSegments(t,n,e=1,i=40,c=-1,h=!0){if(!(M.MIN_VERSION<=e&&e<=i&&i<=M.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");let f,y;for(f=e;;f++){const d=M.getNumDataCodewords(f,n)*8,x=S.getTotalBits(t,f);if(x<=d){y=x;break}if(f>=i)throw new RangeError("Data too long")}for(const d of[M.Ecc.MEDIUM,M.Ecc.QUARTILE,M.Ecc.HIGH])h&&y<=M.getNumDataCodewords(f,d)*8&&(n=d);let g=[];for(const d of t){p(d.mode.modeBits,4,g),p(d.numChars,d.mode.numCharCountBits(f),g);for(const x of d.getData())g.push(x)}_(g.length==y);const R=M.getNumDataCodewords(f,n)*8;_(g.length<=R),p(0,Math.min(4,R-g.length),g),p(0,(8-g.length%8)%8,g),_(g.length%8==0);for(let d=236;g.length<R;d^=253)p(d,8,g);let A=[];for(;A.length*8<g.length;)A.push(0);return g.forEach((d,x)=>A[x>>>3]|=d<<7-(x&7)),new M(f,n,A,c)}getModule(t,n){return 0<=t&&t<this.size&&0<=n&&n<this.size&&this.modules[n][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),n=t.length;for(let e=0;e<n;e++)for(let i=0;i<n;i++)e==0&&i==0||e==0&&i==n-1||e==n-1&&i==0||this.drawAlignmentPattern(t[e],t[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const n=this.errorCorrectionLevel.formatBits<<3|t;let e=n;for(let c=0;c<10;c++)e=e<<1^(e>>>9)*1335;const i=(n<<10|e)^21522;_(i>>>15==0);for(let c=0;c<=5;c++)this.setFunctionModule(8,c,v(i,c));this.setFunctionModule(8,7,v(i,6)),this.setFunctionModule(8,8,v(i,7)),this.setFunctionModule(7,8,v(i,8));for(let c=9;c<15;c++)this.setFunctionModule(14-c,8,v(i,c));for(let c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,v(i,c));for(let c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,v(i,c));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let e=0;e<12;e++)t=t<<1^(t>>>11)*7973;const n=this.version<<12|t;_(n>>>18==0);for(let e=0;e<18;e++){const i=v(n,e),c=this.size-11+e%3,h=Math.floor(e/3);this.setFunctionModule(c,h,i),this.setFunctionModule(h,c,i)}}drawFinderPattern(t,n){for(let e=-4;e<=4;e++)for(let i=-4;i<=4;i++){const c=Math.max(Math.abs(i),Math.abs(e)),h=t+i,f=n+e;0<=h&&h<this.size&&0<=f&&f<this.size&&this.setFunctionModule(h,f,c!=2&&c!=4)}}drawAlignmentPattern(t,n){for(let e=-2;e<=2;e++)for(let i=-2;i<=2;i++)this.setFunctionModule(t+i,n+e,Math.max(Math.abs(i),Math.abs(e))!=1)}setFunctionModule(t,n,e){this.modules[n][t]=e,this.isFunction[n][t]=!0}addEccAndInterleave(t){const n=this.version,e=this.errorCorrectionLevel;if(t.length!=M.getNumDataCodewords(n,e))throw new RangeError("Invalid argument");const i=M.NUM_ERROR_CORRECTION_BLOCKS[e.ordinal][n],c=M.ECC_CODEWORDS_PER_BLOCK[e.ordinal][n],h=Math.floor(M.getNumRawDataModules(n)/8),f=i-h%i,y=Math.floor(h/i);let g=[];const R=M.reedSolomonComputeDivisor(c);for(let d=0,x=0;d<i;d++){let P=t.slice(x,x+y-c+(d<f?0:1));x+=P.length;const I=M.reedSolomonComputeRemainder(P,R);d<f&&P.push(0),g.push(P.concat(I))}let A=[];for(let d=0;d<g[0].length;d++)g.forEach((x,P)=>{(d!=y-c||P>=f)&&A.push(x[d])});return _(A.length==h),A}drawCodewords(t){if(t.length!=Math.floor(M.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let e=this.size-1;e>=1;e-=2){e==6&&(e=5);for(let i=0;i<this.size;i++)for(let c=0;c<2;c++){const h=e-c,y=(e+1&2)==0?this.size-1-i:i;!this.isFunction[y][h]&&n<t.length*8&&(this.modules[y][h]=v(t[n>>>3],7-(n&7)),n++)}}_(n==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let n=0;n<this.size;n++)for(let e=0;e<this.size;e++){let i;switch(t){case 0:i=(e+n)%2==0;break;case 1:i=n%2==0;break;case 2:i=e%3==0;break;case 3:i=(e+n)%3==0;break;case 4:i=(Math.floor(e/3)+Math.floor(n/2))%2==0;break;case 5:i=e*n%2+e*n%3==0;break;case 6:i=(e*n%2+e*n%3)%2==0;break;case 7:i=((e+n)%2+e*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][e]&&i&&(this.modules[n][e]=!this.modules[n][e])}}getPenaltyScore(){let t=0;for(let c=0;c<this.size;c++){let h=!1,f=0,y=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[c][g]==h?(f++,f==5?t+=M.PENALTY_N1:f>5&&t++):(this.finderPenaltyAddHistory(f,y),h||(t+=this.finderPenaltyCountPatterns(y)*M.PENALTY_N3),h=this.modules[c][g],f=1);t+=this.finderPenaltyTerminateAndCount(h,f,y)*M.PENALTY_N3}for(let c=0;c<this.size;c++){let h=!1,f=0,y=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][c]==h?(f++,f==5?t+=M.PENALTY_N1:f>5&&t++):(this.finderPenaltyAddHistory(f,y),h||(t+=this.finderPenaltyCountPatterns(y)*M.PENALTY_N3),h=this.modules[g][c],f=1);t+=this.finderPenaltyTerminateAndCount(h,f,y)*M.PENALTY_N3}for(let c=0;c<this.size-1;c++)for(let h=0;h<this.size-1;h++){const f=this.modules[c][h];f==this.modules[c][h+1]&&f==this.modules[c+1][h]&&f==this.modules[c+1][h+1]&&(t+=M.PENALTY_N2)}let n=0;for(const c of this.modules)n=c.reduce((h,f)=>h+(f?1:0),n);const e=this.size*this.size,i=Math.ceil(Math.abs(n*20-e*10)/e)-1;return _(0<=i&&i<=9),t+=i*M.PENALTY_N4,_(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,n=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let e=[6];for(let i=this.size-7;e.length<t;i-=n)e.splice(1,0,i);return e}}static getNumRawDataModules(t){if(t<M.MIN_VERSION||t>M.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*t+128)*t+64;if(t>=2){const e=Math.floor(t/7)+2;n-=(25*e-10)*e-55,t>=7&&(n-=36)}return _(208<=n&&n<=29648),n}static getNumDataCodewords(t,n){return Math.floor(M.getNumRawDataModules(t)/8)-M.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*M.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let n=[];for(let i=0;i<t-1;i++)n.push(0);n.push(1);let e=1;for(let i=0;i<t;i++){for(let c=0;c<n.length;c++)n[c]=M.reedSolomonMultiply(n[c],e),c+1<n.length&&(n[c]^=n[c+1]);e=M.reedSolomonMultiply(e,2)}return n}static reedSolomonComputeRemainder(t,n){let e=n.map(i=>0);for(const i of t){const c=i^e.shift();e.push(0),n.forEach((h,f)=>e[f]^=M.reedSolomonMultiply(h,c))}return e}static reedSolomonMultiply(t,n){if(t>>>8||n>>>8)throw new RangeError("Byte out of range");let e=0;for(let i=7;i>=0;i--)e=e<<1^(e>>>7)*285,e^=(n>>>i&1)*t;return _(e>>>8==0),e}finderPenaltyCountPatterns(t){const n=t[1];_(n<=this.size*3);const e=n>0&&t[2]==n&&t[3]==n*3&&t[4]==n&&t[5]==n;return(e&&t[0]>=n*4&&t[6]>=n?1:0)+(e&&t[6]>=n*4&&t[0]>=n?1:0)}finderPenaltyTerminateAndCount(t,n,e){return t&&(this.finderPenaltyAddHistory(n,e),n=0),n+=this.size,this.finderPenaltyAddHistory(n,e),this.finderPenaltyCountPatterns(e)}finderPenaltyAddHistory(t,n){n[0]==0&&(t+=this.size),n.pop(),n.unshift(t)}};m.MIN_VERSION=1,m.MAX_VERSION=40,m.PENALTY_N1=3,m.PENALTY_N2=3,m.PENALTY_N3=40,m.PENALTY_N4=10,m.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],m.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],b.QrCode=m;function p(T,t,n){if(t<0||t>31||T>>>t)throw new RangeError("Value out of range");for(let e=t-1;e>=0;e--)n.push(T>>>e&1)}function v(T,t){return(T>>>t&1)!=0}function _(T){if(!T)throw new Error("Assertion error")}const w=class W{constructor(t,n,e){if(this.mode=t,this.numChars=n,this.bitData=e,n<0)throw new RangeError("Invalid argument");this.bitData=e.slice()}static makeBytes(t){let n=[];for(const e of t)p(e,8,n);return new W(W.Mode.BYTE,t.length,n)}static makeNumeric(t){if(!W.isNumeric(t))throw new RangeError("String contains non-numeric characters");let n=[];for(let e=0;e<t.length;){const i=Math.min(t.length-e,3);p(parseInt(t.substring(e,e+i),10),i*3+1,n),e+=i}return new W(W.Mode.NUMERIC,t.length,n)}static makeAlphanumeric(t){if(!W.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let n=[],e;for(e=0;e+2<=t.length;e+=2){let i=W.ALPHANUMERIC_CHARSET.indexOf(t.charAt(e))*45;i+=W.ALPHANUMERIC_CHARSET.indexOf(t.charAt(e+1)),p(i,11,n)}return e<t.length&&p(W.ALPHANUMERIC_CHARSET.indexOf(t.charAt(e)),6,n),new W(W.Mode.ALPHANUMERIC,t.length,n)}static makeSegments(t){return t==""?[]:W.isNumeric(t)?[W.makeNumeric(t)]:W.isAlphanumeric(t)?[W.makeAlphanumeric(t)]:[W.makeBytes(W.toUtf8ByteArray(t))]}static makeEci(t){let n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)p(t,8,n);else if(t<16384)p(2,2,n),p(t,14,n);else if(t<1e6)p(6,3,n),p(t,21,n);else throw new RangeError("ECI assignment value out of range");return new W(W.Mode.ECI,0,n)}static isNumeric(t){return W.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return W.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,n){let e=0;for(const i of t){const c=i.mode.numCharCountBits(n);if(i.numChars>=1<<c)return 1/0;e+=4+c+i.bitData.length}return e}static toUtf8ByteArray(t){t=encodeURI(t);let n=[];for(let e=0;e<t.length;e++)t.charAt(e)!="%"?n.push(t.charCodeAt(e)):(n.push(parseInt(t.substring(e+1,e+3),16)),e+=2);return n}};w.NUMERIC_REGEX=/^[0-9]*$/,w.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,w.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let S=w;b.QrSegment=w})(xe||(xe={}));(b=>{(m=>{const p=class{constructor(_,w){this.ordinal=_,this.formatBits=w}};p.LOW=new p(0,1),p.MEDIUM=new p(1,0),p.QUARTILE=new p(2,3),p.HIGH=new p(3,2),m.Ecc=p})(b.QrCode||(b.QrCode={}))})(xe||(xe={}));(b=>{(m=>{const p=class{constructor(_,w){this.modeBits=_,this.numBitsCharCount=w}numCharCountBits(_){return this.numBitsCharCount[Math.floor((_+7)/17)]}};p.NUMERIC=new p(1,[10,12,14]),p.ALPHANUMERIC=new p(2,[9,11,13]),p.BYTE=new p(4,[8,16,16]),p.KANJI=new p(8,[8,10,12]),p.ECI=new p(7,[0,0,0]),m.Mode=p})(b.QrSegment||(b.QrSegment={}))})(xe||(xe={}));var je=xe;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var st={L:je.QrCode.Ecc.LOW,M:je.QrCode.Ecc.MEDIUM,Q:je.QrCode.Ecc.QUARTILE,H:je.QrCode.Ecc.HIGH},Oe=128,ze="L",ke="#FFFFFF",Le="#000000",Ue=!1,We=1,at=4,lt=0,ct=.1;function He(b,m=0){const p=[];return b.forEach(function(v,_){let w=null;v.forEach(function(S,T){if(!S&&w!==null){p.push(`M${w+m} ${_+m}h${T-w}v1H${w+m}z`),w=null;return}if(T===v.length-1){if(!S)return;w===null?p.push(`M${T+m},${_+m} h1v1H${T+m}z`):p.push(`M${w+m},${_+m} h${T+1-w}v1H${w+m}z`);return}S&&w===null&&(w=T)})}),p.join("")}function Qe(b,m){return b.slice().map((p,v)=>v<m.y||v>=m.y+m.h?p:p.map((_,w)=>w<m.x||w>=m.x+m.w?_:!1))}function dt(b,m,p,v){if(v==null)return null;const _=b.length+p*2,w=Math.floor(m*ct),S=_/m,T=(v.width||w)*S,t=(v.height||w)*S,n=v.x==null?b.length/2-T/2:v.x*S,e=v.y==null?b.length/2-t/2:v.y*S,i=v.opacity==null?1:v.opacity;let c=null;if(v.excavate){let f=Math.floor(n),y=Math.floor(e),g=Math.ceil(T+n-f),R=Math.ceil(t+e-y);c={x:f,y,w:g,h:R}}const h=v.crossOrigin;return{x:n,y:e,h:t,w:T,excavation:c,opacity:i,crossOrigin:h}}function ut(b,m){return m!=null?Math.max(Math.floor(m),0):b?at:lt}function $e({value:b,level:m,minVersion:p,includeMargin:v,marginSize:_,imageSettings:w,size:S,boostLevel:T}){let t=k.useMemo(()=>{const f=(Array.isArray(b)?b:[b]).reduce((y,g)=>(y.push(...je.QrSegment.makeSegments(g)),y),[]);return je.QrCode.encodeSegments(f,st[m],p,void 0,void 0,T)},[b,m,p,T]);const{cells:n,margin:e,numCells:i,calculatedImageSettings:c}=k.useMemo(()=>{let h=t.getModules();const f=ut(v,_),y=h.length+f*2,g=dt(h,S,f,w);return{cells:h,margin:f,numCells:y,calculatedImageSettings:g}},[t,S,w,v,_]);return{qrcode:t,margin:e,cells:n,numCells:i,calculatedImageSettings:c}}var ft=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),pt=k.forwardRef(function(m,p){const v=m,{value:_,size:w=Oe,level:S=ze,bgColor:T=ke,fgColor:t=Le,includeMargin:n=Ue,minVersion:e=We,boostLevel:i,marginSize:c,imageSettings:h}=v,y=Te(v,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=y,R=Te(y,["style"]),A=h==null?void 0:h.src,d=k.useRef(null),x=k.useRef(null),P=k.useCallback(G=>{d.current=G,typeof p=="function"?p(G):p&&(p.current=G)},[p]),[I,$]=k.useState(!1),{margin:O,cells:L,numCells:X,calculatedImageSettings:F}=$e({value:_,level:S,minVersion:e,boostLevel:i,includeMargin:n,marginSize:c,imageSettings:h,size:w});k.useEffect(()=>{if(d.current!=null){const G=d.current,H=G.getContext("2d");if(!H)return;let le=L;const ce=x.current,ue=F!=null&&ce!==null&&ce.complete&&ce.naturalHeight!==0&&ce.naturalWidth!==0;ue&&F.excavation!=null&&(le=Qe(L,F.excavation));const fe=window.devicePixelRatio||1;G.height=G.width=w*fe;const be=w/X*fe;H.scale(be,be),H.fillStyle=T,H.fillRect(0,0,X,X),H.fillStyle=t,ft?H.fill(new Path2D(He(le,O))):L.forEach(function(Q,ne){Q.forEach(function(ie,pe){ie&&H.fillRect(pe+O,ne+O,1,1)})}),F&&(H.globalAlpha=F.opacity),ue&&H.drawImage(ce,F.x+O,F.y+O,F.w,F.h)}}),k.useEffect(()=>{$(!1)},[A]);const J=Re({height:w,width:w},g);let z=null;return A!=null&&(z=k.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{$(!0)},ref:x,crossOrigin:F==null?void 0:F.crossOrigin})),k.createElement(k.Fragment,null,k.createElement("canvas",Re({style:J,height:w,width:w,ref:P,role:"img"},R)),z)});pt.displayName="QRCodeCanvas";var Ge=k.forwardRef(function(m,p){const v=m,{value:_,size:w=Oe,level:S=ze,bgColor:T=ke,fgColor:t=Le,includeMargin:n=Ue,minVersion:e=We,boostLevel:i,title:c,marginSize:h,imageSettings:f}=v,y=Te(v,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:R,numCells:A,calculatedImageSettings:d}=$e({value:_,level:S,minVersion:e,boostLevel:i,includeMargin:n,marginSize:h,imageSettings:f,size:w});let x=R,P=null;f!=null&&d!=null&&(d.excavation!=null&&(x=Qe(R,d.excavation)),P=k.createElement("image",{href:f.src,height:d.h,width:d.w,x:d.x+g,y:d.y+g,preserveAspectRatio:"none",opacity:d.opacity,crossOrigin:d.crossOrigin}));const I=He(x,g);return k.createElement("svg",Re({height:w,width:w,viewBox:`0 0 ${A} ${A}`,ref:p,role:"img"},y),!!c&&k.createElement("title",null,c),k.createElement("path",{fill:T,d:`M0,0 h${A}v${A}H0z`,shapeRendering:"crispEdges"}),k.createElement("path",{fill:t,d:I,shapeRendering:"crispEdges"}),P)});Ge.displayName="QRCodeSVG";const ht=k.forwardRef(({data:b},m)=>{const{customerName:p,products:v,amountPaid:_,total:w,balance:S,workerName:T,date:t,discount:n}=b,e=_e(g=>g.companyState.data),i=Number(_)||0,c=Number(w)||0,h=Number(S)||0,f=Number(n)||0,y=JSON.stringify({company:e.companyName,date:t&&!isNaN(new Date(t).getTime())?me(new Date(t),"yyyy-MM-dd HH:mm"):"Invalid Date",total:w,receiptNo:t&&!isNaN(new Date(t).getTime())?me(new Date(t),"yyyyMMddHHmm"):"Invalid"});return r.jsxs("div",{ref:m,style:{fontFamily:"Arial, sans-serif",margin:0,padding:"15px",maxWidth:"58mm",margin:"0 auto",backgroundColor:"#ffffff",fontSize:"12px"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"15px",borderBottom:"1px solid #000",paddingBottom:"10px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 5px 0"},children:K(e.companyName)}),e.contact&&r.jsx("p",{style:{margin:"2px 0"},children:e.contact}),e.location&&r.jsx("p",{style:{margin:"2px 0"},children:e.location})]}),r.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:r.jsx(Ge,{value:y,size:100,level:"L"})}),r.jsxs("div",{style:{fontSize:"11px",marginBottom:"10px",display:"flex",flexDirection:"column",gap:"2px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsxs("span",{children:["Receipt: ",t&&!isNaN(new Date(t).getTime())?me(new Date(t),"yyyyMMddHHmm"):"Invalid"]}),r.jsx("span",{children:t&&!isNaN(new Date(t).getTime())?me(new Date(t),"dd/MM/yy HH:mm"):"Invalid Date"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsxs("span",{children:["Customer: ",K(p)]}),r.jsxs("span",{children:["Staff: ",K(T)]})]})]}),r.jsxs("div",{style:{marginBottom:"10px",fontSize:"11px"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"0.8fr 1.2fr 1fr",gap:"4px",borderBottom:"1px solid #000",paddingBottom:"4px",marginBottom:"4px",fontWeight:"bold"},children:[r.jsx("span",{children:"Qty"}),r.jsx("span",{children:"Item"}),r.jsx("span",{style:{textAlign:"right"},children:"Amount"})]}),v.map((g,R)=>{const A=g.originalQuantity||g.quantity,d=g.salesUnit&&g.salesUnit!=="none"?g.salesUnit:"",x=d?`${A} ${d}`:A,P=d&&d!=="none"?`${K(g.name)} (${d})`:K(g.name);return r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"0.8fr 1.2fr 1fr",gap:"4px",marginBottom:"2px"},children:[r.jsx("span",{children:x}),r.jsx("span",{children:P}),r.jsxs("span",{style:{textAlign:"right"},children:["₵",(g.price?g.price*A:g.salesPrice*A).toFixed(2)]})]},R)})]}),r.jsxs("div",{style:{borderTop:"1px solid #000",paddingTop:"5px",fontSize:"11px"},children:[f>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["₵",f.toFixed(2)]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"13px",marginTop:"5px"},children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["₵",c.toFixed(2)]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Paid:"}),r.jsxs("span",{children:["₵",i.toFixed(2)]})]}),h!==0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{children:"Balance:"}),r.jsxs("span",{children:["₵",h.toFixed(2)]})]})]}),r.jsxs("div",{style:{marginTop:"15px",textAlign:"center",fontSize:"10px",borderTop:"1px solid #000",paddingTop:"5px"},children:[r.jsx("p",{style:{margin:"2px 0"},children:"Thank you!"}),e.receiptFooter&&r.jsx("p",{style:{margin:"2px 0",fontStyle:"italic"},children:e.receiptFooter})]})]})}),mt=k.forwardRef(({data:b},m)=>{const{customerName:p,products:v,amountPaid:_,total:w,balance:S,workerName:T,date:t,discount:n}=b,e=_e(d=>d.companyState.data),i=Number(_)||0,c=Number(w)||0,h=Number(S)||0,f=Number(n)||0,y=e.taxRate||0,g=c-f,R=(g*(y/100)).toFixed(2),A=(parseFloat(g)+parseFloat(R)).toFixed(2);return r.jsxs("div",{ref:m,style:{fontFamily:"Arial, sans-serif",margin:0,padding:"20px",maxWidth:"112mm",margin:"0 auto",backgroundColor:"#ffffff"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",padding:"15px",border:"2px solid #000",borderRadius:"5px"},children:[r.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 10px 0",color:"#000"},children:K(e.companyName)}),e.tinNumber&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["TIN: ",e.tinNumber.toUpperCase()]}),e.contact&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["Tel: ",e.contact]}),e.momo&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["Mobile Money: ",e.momo]}),e.location&&r.jsx("p",{style:{margin:"5px 0",fontSize:"14px"},children:e.location}),e.email&&r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:["Email: ",e.email]})]}),r.jsx("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"5px"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[r.jsx("strong",{children:"Receipt No:"})," ",t&&!isNaN(new Date(t).getTime())?me(new Date(t),"yyyyMMddHHmm"):"Invalid"]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[r.jsx("strong",{children:"Date:"})," ",t&&!isNaN(new Date(t).getTime())?me(new Date(t),"dd/MM/yyyy HH:mm"):"Invalid Date"]})]}),r.jsxs("div",{children:[r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[r.jsx("strong",{children:"Customer:"})," ",K(p)]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[r.jsx("strong",{children:"Served By:"})," ",K(T)]})]})]})}),r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"14px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[r.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #000"},children:"Item Description"}),r.jsx("th",{style:{padding:"10px",textAlign:"center",borderBottom:"2px solid #000"},children:"Qty"}),r.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #000"},children:"Unit Price"}),r.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #000"},children:"Amount"})]})}),r.jsx("tbody",{children:v.map((d,x)=>{const P=d.originalQuantity||d.quantity,I=d.salesUnit&&d.salesUnit!=="none"?d.salesUnit:"",$=I?`${P} ${I}`:P,O=I&&I!=="none"?`${K(d.name)} (${I})`:K(d.name);return r.jsxs("tr",{children:[r.jsx("td",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:O}),r.jsx("td",{style:{padding:"8px",textAlign:"center",borderBottom:"1px solid #ddd"},children:$}),r.jsxs("td",{style:{padding:"8px",textAlign:"right",borderBottom:"1px solid #ddd"},children:["₵",(d.price||d.salesPrice).toFixed(2)]}),r.jsxs("td",{style:{padding:"8px",textAlign:"right",borderBottom:"1px solid #ddd"},children:["₵",((d.price||d.salesPrice)*P).toFixed(2)]})]},x)})})]}),r.jsxs("div",{style:{marginLeft:"auto",width:"60%",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0",borderBottom:"1px solid #ddd"},children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["₵",g.toFixed(2)]})]}),f>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0",borderBottom:"1px solid #ddd",color:"#dc3545"},children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-₵",f.toFixed(2)]})]}),y>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0",borderBottom:"1px solid #ddd"},children:[r.jsxs("span",{children:["VAT (",y,"%):"]}),r.jsxs("span",{children:["₵",R]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"2px solid #000",fontWeight:"bold",fontSize:"16px"},children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["₵",A]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0"},children:[r.jsx("span",{children:"Amount Paid:"}),r.jsxs("span",{children:["₵",i.toFixed(2)]})]}),h!==0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0",color:h>0?"#dc3545":"#28a745"},children:[r.jsx("span",{children:"Balance:"}),r.jsxs("span",{children:["₵",h.toFixed(2)]})]})]}),r.jsxs("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"14px",borderTop:"2px solid #000",paddingTop:"15px"},children:[e.receiptFooter?r.jsx("p",{style:{margin:"5px 0"},children:e.receiptFooter}):r.jsxs(r.Fragment,{children:[r.jsx("p",{style:{margin:"5px 0"},children:"Thank you for your business!"}),r.jsx("p",{style:{margin:"5px 0"},children:"For returns and warranty claims, please present this receipt."}),r.jsx("p",{style:{margin:"5px 0"},children:"Returns accepted within 7 days of purchase."})]}),e.tinNumber&&r.jsx("p",{style:{margin:"10px 0",fontStyle:"italic"},children:"This is an official VAT receipt"})]})]})}),gt=k.forwardRef(({data:b},m)=>{const v=_e(S=>S.companyState.data).receiptTemplate||"template1",w={template1:ot,template2:ht,template3:mt}[v];return r.jsx(w,{ref:m,data:b})}),Pt=k.forwardRef((b,m)=>{const{customerName:p,products:v,amountPaid:_,total:w,balance:S,workerName:T,date:t,discount:n}=b,[e,i]=Ce.useState(!1),c=Ce.useRef();Je(),_e(f=>f.companyState.data);const h=rt.useReactToPrint({content:()=>c.current,onAfterPrint:()=>{console.log("Printing completed")},onPrintError:f=>{console.error("Printing failed",f)}});return Ce.useEffect(()=>{const f=setTimeout(()=>{i(!0)},300);return()=>clearTimeout(f)},[]),Ce.useEffect(()=>{e&&(console.log("Print dialog should appear now"),h())},[e,h]),r.jsx("div",{ref:m,children:r.jsx("div",{ref:c,children:r.jsx(gt,{data:b})})})}),Ct=({error:b,onClose:m})=>r.jsx(et,{children:!!b&&r.jsx(nt,{open:!!b,autoHideDuration:3e3,onClose:m,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{zIndex:9999},children:r.jsx(Ne.div,{initial:{y:-100,scale:.3,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:-100,scale:.3,opacity:0},transition:{type:"spring",damping:15,stiffness:300,mass:.8,bounce:.5,duration:.6,y:{type:"spring",damping:12,stiffness:200,mass:.8},scale:{type:"spring",damping:20,stiffness:300,mass:.8},opacity:{type:"tween",duration:.2,ease:"easeInOut"}},children:r.jsx(Ne.div,{whileHover:{scale:1.02},transition:{type:"spring",damping:10},children:r.jsx(tt,{onClose:m,severity:"error",variant:"filled",sx:{minWidth:"200px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","& .MuiAlert-message":{fontSize:"0.95rem"}},children:b})})})})});export{Ct as E,Pt as R};
