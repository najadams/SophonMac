import{r as m,Q as w,j as e,N as C,K as S,G as s,O as T,E as a,P,B as h,W as R,X as k,T as o,b as u,c as N,Y as A,L as f,a0 as W}from"./index-DKVd45z4.js";function E(l){return e.jsxs(o,{variant:"body2",color:"text.secondary",align:"center",...l,children:["Copyright Â© ",e.jsx(f,{color:"inherit",href:"https://mannos.netlify.app/",children:"Sophon"})," ",new Date().getFullYear(),"."]})}const F=S({palette:{primary:{main:"#2196f3"},secondary:{main:"#f50057"},background:{default:"#f5f5f5"}},typography:{fontFamily:'"Poppins", "Roboto", "Helvetica", "Arial", sans-serif'},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:600}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}}}}),M=()=>{const[l,c]=m.useState(!1),[p,x]=m.useState(null),j=w(),[y,i]=m.useState(null),b=async(n,r,d)=>{try{const t=await W.post("/api/auth/register",{companyName:n,email:r,password:d});if(console.log(t),t.status!==201)throw new Error("Something went wrong. Try again later");return x("Registration successful! Redirecting to login..."),setTimeout(()=>{j("/login")},2e3),t.data}catch(t){console.error(t.message),t.response&&t.response.data?i(t.response.data.message):i(t.message)}},v=async n=>{c(!0),n.preventDefault(),i(null),x(null);const r=new FormData(n.currentTarget),d=r.get("companyName"),t=r.get("email"),g=r.get("password");if(!d||!t||!g){i("Please fill all fields"),c(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){i("Please enter a valid email address"),c(!1);return}await b(d.toLowerCase().trim(),t.trim(),g),c(!1)};return e.jsx("div",{className:"notlogin",children:e.jsx(C,{theme:F,children:e.jsxs(s,{container:!0,component:"main",sx:{height:"100vh"},children:[e.jsx(T,{}),e.jsx(s,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(/logo.png)",backgroundRepeat:"no-repeat",backgroundColor:n=>n.palette.mode==="light"?n.palette.grey[50]:n.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},children:e.jsx(a.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:1},style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, rgba(33,150,243,0.3), rgba(245,0,87,0.3))"}})}),e.jsx(s,{item:!0,xs:12,sm:8,md:5,component:P,elevation:6,square:!0,children:e.jsxs(h,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(a.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:e.jsx(R,{sx:{m:1,bgcolor:"secondary.main",width:56,height:56},children:e.jsx(k,{})})}),e.jsxs(a.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},children:[e.jsx(o,{component:"h1",variant:"h4",sx:{fontWeight:600,mb:3},children:"Create Account"}),e.jsx(o,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Join our POS system today"})]}),e.jsxs(h,{component:"form",noValidate:!0,onSubmit:v,sx:{mt:1,width:"100%"},children:[e.jsx(a.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.4},children:e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"companyName",label:"Company Name",name:"companyName",onChange:()=>i(null),autoFocus:!0})}),e.jsx(a.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.6},children:e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:()=>i(null)})}),e.jsx(a.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.8},children:e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",onChange:()=>i(null)})}),e.jsx(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:1},children:e.jsx(N,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:l,children:l?e.jsx(A,{size:24}):"Create Account"})}),e.jsx(s,{container:!0,children:e.jsx(s,{item:!0,xs:12,sx:{textAlign:"center"},children:e.jsx(f,{href:"/login",variant:"body2",sx:{textDecoration:"none"},children:"Already have an account? Sign In"})})}),y&&e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx(o,{variant:"body2",color:"error",align:"center",sx:{mt:2},children:y})}),p&&e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx(o,{variant:"body2",color:"success.main",align:"center",sx:{mt:2},children:p})}),e.jsx(E,{sx:{mt:5}})]})]})})]})})})};export{M as default};
